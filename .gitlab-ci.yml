lint:
  stage: build
  script:
  - pip install yapf
  - yapf --recursive .
  only:
  - merge_requests


unittest:
 stage: test
 dependencies: 
 - lint
 script:
 - pip install -r requirements.txt
 - pytest
 only:
 - pushes